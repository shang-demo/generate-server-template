{"version":3,"sources":["util.js"],"names":["colorEcho","str","fg","bg","style","console","log","exec","cmd","opt","info","Promise","resolve","reject","child","Object","assign","shell","stdio","on","err","code"],"mappings":";;;;;;;;;AAAA;;AAEA,SAASA,SAAT,CAAmBC,GAAnB,EAAwBC,EAAE,GAAG,EAA7B,EAAiCC,EAAE,GAAG,EAAtC,EAA0CC,KAAK,GAAG,CAAlD,EAAqD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAa,QAAOJ,EAAG,SAAQC,EAAG,SAAQC,KAAM,IAAGH,GAAI,EAAvD;AACD;;AAED,eAAeM,IAAf,CAAoBC,GAApB,EAAyBC,GAAG,GAAG,EAA/B,EAAmC;AACjCJ,EAAAA,OAAO,CAACK,IAAR,CAAaF,GAAb;AACA,SAAO,IAAIG,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,QAAIC,KAAK,GAAG,0BACVN,GADU,EAEVO,MAAM,CAACC,MAAP,CACE;AACEC,MAAAA,KAAK,EAAE,IADT;AAEEC,MAAAA,KAAK,EAAE;AAFT,KADF,EAKET,GALF,CAFU,CAAZ;AAWAK,IAAAA,KAAK,CAACK,EAAN,CAAS,OAAT,EAAmBC,GAAD,IAAS;AACzBP,MAAAA,MAAM,CAACO,GAAD,CAAN;AACD,KAFD;AAIAN,IAAAA,KAAK,CAACK,EAAN,CAAS,OAAT,EAAmBE,IAAD,IAAU;AAC1B,UAAIA,IAAI,KAAK,CAAb,EAAgB;AACdT,QAAAA,OAAO,CAACS,IAAD,CAAP;AACD;;AACDR,MAAAA,MAAM,CAACQ,IAAD,CAAN;AACD,KALD;AAMD,GAtBM,CAAP;AAuBD;;eAGc;AAAErB,EAAAA,SAAF;AAAaO,EAAAA;AAAb,C","sourcesContent":["import { spawn } from 'child_process';\n\nfunction colorEcho(str, fg = 31, bg = 40, style = 1) {\n  // FgBlack = \"\\x1b[30m\"\n  // FgRed = \"\\x1b[31m\"\n  // FgGreen = \"\\x1b[32m\"\n  // FgYellow = \"\\x1b[33m\"\n  // FgBlue = \"\\x1b[34m\"\n  // FgMagenta = \"\\x1b[35m\"\n  // FgCyan = \"\\x1b[36m\"\n  // FgWhite = \"\\x1b[37m\"\n\n  // BgBlack = \"\\x1b[40m\"\n  // BgRed = \"\\x1b[41m\"\n  // BgGreen = \"\\x1b[42m\"\n  // BgYellow = \"\\x1b[43m\"\n  // BgBlue = \"\\x1b[44m\"\n  // BgMagenta = \"\\x1b[45m\"\n  // BgCyan = \"\\x1b[46m\"\n  // BgWhite = \"\\x1b[47m\"\n\n  // Reset = \"\\x1b[0m\"\n  // Bright = \"\\x1b[1m\"\n  // Dim = \"\\x1b[2m\"\n  // Underscore = \"\\x1b[4m\"\n  // Blink = \"\\x1b[5m\"\n  // Reverse = \"\\x1b[7m\"\n  // Hidden = \"\\x1b[8m\"\n\n  // eslint-disable-next-line no-console\n  console.log(`\\x1b[${fg}m\\x1b[${bg}m\\x1b[${style}m${str}`);\n}\n\nasync function exec(cmd, opt = {}) {\n  console.info(cmd);\n  return new Promise((resolve, reject) => {\n    let child = spawn(\n      cmd,\n      Object.assign(\n        {\n          shell: true,\n          stdio: 'inherit',\n        },\n        opt\n      )\n    );\n\n    child.on('error', (err) => {\n      reject(err);\n    });\n\n    child.on('close', (code) => {\n      if (code === 0) {\n        resolve(code);\n      }\n      reject(code);\n    });\n  });\n}\n\nexport { colorEcho, exec };\nexport default { colorEcho, exec };\n"],"file":"util.js"}